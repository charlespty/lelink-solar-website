# 增强内容管理系统使用指南

## 🎉 新功能概览

我已经为您的Lelink Solar网站创建了一个功能完整的内容管理系统，支持图片上传和结构化内容管理。

## 📋 主要功能

### 1. 内容块管理
- **多种内容类型**：文本、图片、视频、引用、列表、代码、链接、标题
- **拖拽排序**：可以调整内容块的顺序
- **实时编辑**：所见即所得的编辑体验
- **预览模式**：编辑和预览模式切换

### 2. 图片管理
- **拖拽上传**：支持拖拽图片到上传区域
- **多格式支持**：JPG、PNG、GIF、WebP、SVG
- **图片预览**：上传后立即预览
- **图片信息**：支持添加图片描述和说明
- **文件大小限制**：最大10MB

### 3. 富文本编辑器
- **格式化工具**：粗体、斜体、下划线
- **对齐方式**：左对齐、居中、右对齐
- **列表功能**：有序列表、无序列表
- **特殊内容**：引用、代码块、链接
- **图片插入**：直接在编辑器中插入图片

### 4. 内容组织
- **分类管理**：页面、区域、组件
- **状态管理**：草稿、已发布
- **搜索筛选**：按标题、内容、类型、状态筛选
- **元数据**：描述、关键词、特色图片

## 🚀 使用方法

### 访问后台管理系统

1. 打开浏览器访问：`http://localhost:3000/admin/login`
2. 使用以下凭据登录：
   - 用户名：`admin`
   - 密码：`admin123`
3. 点击"内容管理"进入内容管理页面

### 创建新内容

1. 点击"新建内容"按钮
2. 填写基本信息：
   - 标题
   - 类型（页面/区域/组件）
   - 状态（草稿/已发布）
   - 描述
3. 添加内容块：
   - 点击"添加块"按钮
   - 选择内容类型
   - 编辑内容

### 编辑现有内容

1. 在左侧列表中选择要编辑的内容项
2. 点击"编辑"按钮
3. 修改基本信息或内容块
4. 点击"保存"按钮

### 管理内容块

#### 添加内容块
1. 在编辑模式下，点击"添加块"
2. 选择内容类型：
   - **文本**：富文本内容
   - **图片**：上传图片并添加描述
   - **视频**：插入视频链接
   - **引用**：添加引用内容和作者
   - **列表**：创建有序或无序列表
   - **代码**：插入代码块
   - **链接**：添加链接和描述
   - **标题**：设置不同级别的标题

#### 编辑内容块
1. 点击内容块上的"编辑"按钮
2. 根据类型进行编辑
3. 点击"保存"完成编辑

#### 调整顺序
1. 使用内容块右上角的上下箭头按钮
2. 或者拖拽内容块到新位置

#### 删除内容块
1. 点击内容块右上角的删除按钮
2. 确认删除操作

### 图片管理

#### 上传图片
1. 选择"图片"内容块类型
2. 拖拽图片到上传区域，或点击"选择图片"
3. 等待上传完成
4. 添加图片描述和说明

#### 图片要求
- **格式**：JPG、PNG、GIF、WebP、SVG
- **大小**：最大10MB
- **建议尺寸**：根据使用场景选择合适的尺寸

## 🛠️ 技术特性

### 前端组件
- **ImageUpload**：图片上传组件，支持拖拽和预览
- **RichTextEditor**：富文本编辑器，支持多种格式
- **ContentBlock**：内容块组件，支持多种内容类型
- **响应式设计**：适配各种屏幕尺寸

### 后端API
- **内容管理API**：CRUD操作，支持搜索和筛选
- **图片上传API**：文件上传和删除
- **数据验证**：文件类型和大小验证
- **错误处理**：完善的错误处理机制

### 数据存储
- **结构化数据**：内容块和元数据
- **文件管理**：图片文件存储在`public/uploads/content/`
- **数据持久化**：当前使用内存存储，可扩展为数据库

## 📁 文件结构

```
src/
├── components/admin/
│   ├── ImageUpload.tsx          # 图片上传组件
│   ├── RichTextEditor.tsx       # 富文本编辑器
│   └── ContentBlock.tsx         # 内容块组件
├── app/admin/content/
│   └── page.tsx                 # 内容管理页面
└── app/api/admin/
    ├── content/route.ts         # 内容管理API
    └── upload/route.ts          # 图片上传API
```

## 🔧 自定义配置

### 修改文件上传限制
编辑 `src/app/api/admin/upload/route.ts`：
```typescript
// 修改允许的文件类型
const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];

// 修改文件大小限制
const maxSize = 10 * 1024 * 1024; // 10MB
```

### 添加新的内容块类型
1. 在 `ContentBlock.tsx` 中添加新类型
2. 在 `ContentPage.tsx` 中添加对应的处理逻辑
3. 更新 `blockTypes` 数组

### 自定义富文本编辑器
编辑 `RichTextEditor.tsx` 添加新的工具栏按钮和功能。

## 🚨 注意事项

1. **文件存储**：当前使用本地文件存储，生产环境建议使用云存储
2. **数据持久化**：当前使用内存存储，重启服务器会丢失数据
3. **安全性**：生产环境需要添加用户认证和权限控制
4. **性能优化**：大量图片时建议添加图片压缩和CDN

## 🎯 下一步计划

1. **数据库集成**：连接真实数据库存储内容
2. **用户权限**：添加多用户和权限管理
3. **版本控制**：内容版本历史和回滚
4. **SEO优化**：自动生成meta标签和sitemap
5. **多语言**：支持多语言内容管理
6. **模板系统**：预定义内容模板
7. **工作流**：内容审核和发布流程

## 📞 技术支持

如果您在使用过程中遇到任何问题，请检查：
1. 服务器是否正常运行
2. 浏览器控制台是否有错误信息
3. 文件权限是否正确设置

---

**恭喜！您现在拥有了一个功能完整的内容管理系统！** 🎉
